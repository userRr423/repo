{"ast":null,"code":"var _jsxFileName = \"C:\\\\Web\\\\ProjectStudent\\\\reactapp\\\\src\\\\components\\\\appStudentForm\\\\StudentForm.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { Button, Form, FormGroup, Input, Label } from \"reactstrap\";\nimport axios from \"axios\";\nimport { API_URL } from \"../../index\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StudentForm = props => {\n  _s();\n  const [student, setStudent] = useState({});\n  const onChange = e => {\n    const newState = student;\n    if (e.target.name === \"file\") {\n      newState[e.target.name] = e.target.files[0];\n    } else newState[e.target.name] = e.target.value;\n    setStudent(newState);\n  };\n  useEffect(() => {\n    if (!props.newStudent) {\n      setStudent(student => props.student);\n    }\n    // eslint-disable-next-line\n  }, [props.student]);\n  const defaultIfEmpty = value => {\n    return value === \"\" ? \"\" : value;\n  };\n  const submitDataEdit = async e => {\n    e.preventDefault();\n    // eslint-disable-next-line\n    const result = await axios.put(API_URL + student.pk, student, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    }).then(() => {\n      props.resetState();\n      props.toggle();\n    });\n  };\n  const submitDataAdd = async e => {\n    e.preventDefault();\n    const data = {\n      name: student['name'],\n      email: student['email'],\n      document: student['document'],\n      phone: student['phone'],\n      photo: \"/\",\n      file: student['file']\n    };\n    // eslint-disable-next-line\n    const result = await axios.post(API_URL, data, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    }).then(() => {\n      props.resetState();\n      props.toggle();\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(Form, {\n    onSubmit: props.newStudent ? submitDataAdd : submitDataEdit,\n    children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n      children: [/*#__PURE__*/_jsxDEV(Label, {\n        for: \"name\",\n        children: \"Name:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        type: \"text\",\n        name: \"name\",\n        onChange: onChange,\n        defaultValue: defaultIfEmpty(student.name)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n      children: [/*#__PURE__*/_jsxDEV(Label, {\n        for: \"email\",\n        children: \"Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        type: \"email\",\n        name: \"email\",\n        onChange: onChange,\n        defaultValue: defaultIfEmpty(student.email)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n      children: [/*#__PURE__*/_jsxDEV(Label, {\n        for: \"document\",\n        children: \"Document:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        type: \"text\",\n        name: \"document\",\n        onChange: onChange,\n        defaultValue: defaultIfEmpty(student.document)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n      children: [/*#__PURE__*/_jsxDEV(Label, {\n        for: \"phone\",\n        children: \"Phone:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        type: \"text\",\n        name: \"phone\",\n        onChange: onChange,\n        defaultValue: defaultIfEmpty(student.phone)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n      children: [/*#__PURE__*/_jsxDEV(Label, {\n        for: \"photo\",\n        children: \"Photo:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        type: \"file\",\n        name: \"file\",\n        onChange: onChange,\n        accept: \"image/*\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"space-between\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }, this), \" \", /*#__PURE__*/_jsxDEV(Button, {\n        onClick: props.toggle,\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 39\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 9\n  }, this);\n};\n_s(StudentForm, \"QKpDZ6sQwNEpmd+9Fq9ZGdhgZgM=\");\n_c = StudentForm;\nexport default StudentForm;\nvar _c;\n$RefreshReg$(_c, \"StudentForm\");","map":{"version":3,"names":["useEffect","useState","Button","Form","FormGroup","Input","Label","axios","API_URL","jsxDEV","_jsxDEV","StudentForm","props","_s","student","setStudent","onChange","e","newState","target","name","files","value","newStudent","defaultIfEmpty","submitDataEdit","preventDefault","result","put","pk","headers","then","resetState","toggle","submitDataAdd","data","email","document","phone","photo","file","post","onSubmit","children","for","fileName","_jsxFileName","lineNumber","columnNumber","type","defaultValue","accept","style","display","justifyContent","onClick","_c","$RefreshReg$"],"sources":["C:/Web/ProjectStudent/reactapp/src/components/appStudentForm/StudentForm.js"],"sourcesContent":["import {useEffect, useState} from \"react\";\nimport {Button, Form, FormGroup, Input, Label} from \"reactstrap\";\nimport axios from \"axios\";\nimport {API_URL} from \"../../index\";\n\nconst StudentForm = (props) => {\n    const [student, setStudent] = useState({})\n\n    const onChange = (e) => {\n        const newState = student\n        if (e.target.name === \"file\") {\n            newState[e.target.name] = e.target.files[0]\n        } else newState[e.target.name] = e.target.value\n        setStudent(newState)\n    }\n\n    useEffect(() => {\n        if (!props.newStudent) {\n            setStudent(student => props.student)\n        }\n        // eslint-disable-next-line\n    }, [props.student])\n\n\n    const defaultIfEmpty = value => {\n        return value === \"\" ? \"\" : value;\n    }\n\n    const submitDataEdit = async (e) => {\n        e.preventDefault();\n        // eslint-disable-next-line\n        const result = await axios.put(API_URL + student.pk, student, {headers: {'Content-Type': 'multipart/form-data'}})\n            .then(() => {\n                props.resetState()\n                props.toggle()\n            })\n    }\n    const submitDataAdd = async (e) => {\n        e.preventDefault();\n        const data = {\n            name: student['name'],\n            email: student['email'],\n            document: student['document'],\n            phone: student['phone'],\n            photo: \"/\",\n            file: student['file']\n        }\n        // eslint-disable-next-line\n        const result = await axios.post(API_URL, data, {headers: {'Content-Type': 'multipart/form-data'}})\n            .then(() => {\n                props.resetState()\n                props.toggle()\n            })\n    }\n    return (\n        <Form onSubmit={props.newStudent ? submitDataAdd : submitDataEdit}>\n            <FormGroup>\n                <Label for=\"name\">Name:</Label>\n                <Input\n                    type=\"text\"\n                    name=\"name\"\n                    onChange={onChange}\n                    defaultValue={defaultIfEmpty(student.name)}\n                />\n            </FormGroup>\n            <FormGroup>\n                <Label for=\"email\">Email</Label>\n                <Input\n                    type=\"email\"\n                    name=\"email\"\n                    onChange={onChange}\n                    defaultValue={defaultIfEmpty(student.email)}\n                />\n            </FormGroup>\n            <FormGroup>\n                <Label for=\"document\">Document:</Label>\n                <Input\n                    type=\"text\"\n                    name=\"document\"\n                    onChange={onChange}\n                    defaultValue={defaultIfEmpty(student.document)}\n                />\n            </FormGroup>\n            <FormGroup>\n                <Label for=\"phone\">Phone:</Label>\n                <Input\n                    type=\"text\"\n                    name=\"phone\"\n                    onChange={onChange}\n                    defaultValue={defaultIfEmpty(student.phone)}\n                />\n            </FormGroup>\n            <FormGroup>\n                <Label for=\"photo\">Photo:</Label>\n                <Input\n                    type=\"file\"\n                    name=\"file\"\n                    onChange={onChange}\n                    accept='image/*'\n                />\n            </FormGroup>\n            <div style={{display: \"flex\", justifyContent: \"space-between\"}}>\n                <Button>Send</Button> <Button onClick={props.toggle}>Cancel</Button>\n            </div>\n        </Form>\n    )\n}\n\nexport default StudentForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}